# edfringe-scrape environment configuration
# Copy to .envrc and run `direnv allow`

# Load non-secret config from TOML
if [[ -f config.toml ]]; then
  eval "$(python3 -c "
import tomllib
with open('config.toml', 'rb') as f:
    for k, v in tomllib.load(f).items():
        print(f'export EDFRINGE_{k}={v!r}')
")"
fi

# Load secrets from 1Password
# Scraping Dog API key (required for scraping)
export EDFRINGE_SCRAPINGDOG_API_KEY=$(op read "op://Private/Scraping Dog/credential")
